# 篮球进球检测系统配置文件 - v5模型 + 1280分辨率测试

# 模型配置（双YOLO系统）
models:
  ball_model:
    path: "trained_models/ball_detector_v5/weights/best.pt"
    confidence: 0.15           # 低置信度，提高召回率
    imgsz: 1280                # 强制使用1280分辨率推理

  rim_model:
    path: "trained_models/yolo26n/weights/best.pt"
    confidence: 0.5            # 高置信度，减少误检
    imgsz: 640                 # 中等分辨率即可
    update_interval: 5         # 每5帧更新一次
    smooth_window: 3           # 平滑窗口（3帧平均）

# 检测参数
detection:
  confidence_threshold: 0.3    # 置信度阈值
  iou_threshold: 0.7           # IoU阈值

# 跟踪参数
tracking:
  tracker_type: "botsort"      # 跟踪器类型
  max_age: 30                  # 最大丢失帧数
  min_hits: 3                  # 最小命中次数

# 进球检测参数
goal_detection:
  rim_expansion_ratio: 1.2     # 篮筐区域扩展比例
  min_velocity_threshold: 0.01  # 最小速度阈值（篮筐宽度/帧）
  consecutive_frames: 3        # 连续帧数要求
  cooldown_frames: 60          # 进球冷却帧数
  vertical_threshold: 0.3      # 垂直方向阈值

# 可视化参数
visualization:
  draw_tracks: true
  draw_trajectory: true
  trajectory_length: 30
  goal_highlight_duration: 90

  colors:
    ball: [0, 255, 0]
    rim: [255, 0, 0]
    people: [0, 255, 255]
    trajectory: [0, 255, 255]
    goal_event: [0, 0, 255]

# 输出参数
output:
  save_video: true
  save_statistics: true
  save_events_json: true
  output_dir: "runs/goal_detection"
